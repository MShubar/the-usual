spring.application.name=theusual
# PostgreSQL datasource
spring.datasource.url=jdbc:postgresql://mysalon.postgres.database.azure.com:5432/coffee-shop
spring.datasource.username=MySalon
spring.datasource.password=MRkiller.26

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# CORS configuration
spring.web.cors.allowed-origins=${CLIENT_ORIGIN}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# Application client origin
app.client-origin=${CLIENT_ORIGIN:http://localhost:5173}

# Azure Storage
azure.storage.account-name=${AZURE_STORAGE_ACCOUNT_NAME:}
azure.storage.account-key=${AZURE_STORAGE_ACCOUNT_KEY:}
azure.storage.container-name=${AZURE_STORAGE_CONTAINER_NAME:images}

# Ensure Spring MVC handles all requests before static resource handlers
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# Azure App Service - Handle URL encoding properly
server.tomcat.relaxed-path-chars=|,{,},[,]
server.tomcat.relaxed-query-chars=|,{,},[,]

# Ensure UTF-8 encoding
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# Disable static resource mapping to prioritize controller mappings
spring.web.resources.add-mappings=false

spring.profiles.active=local
